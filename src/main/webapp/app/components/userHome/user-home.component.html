<div class="well feed-form-well">
    <div>
        <form class="feedForm" novalidate (submit)="onSubmit()" *ngIf="active">
            <label for="feedAddress" class="formLabel">{{'ADD_NEW_HEADER' | translate}}</label>

            <div class="row">
                <div class="col-md-9">
                    <div class="form-group">
                        <input id="feedAddress" class="form-control" required type="url" [(ngModel)]="newUrl"
                               ngControl="feedInput" #feedInput="ngForm">
                    </div>
                </div>

                <div class="col-md-3">
                    <button type="submit" class="btn btn-submit" id="submitBtn" [disabled]="!feedInput.valid">
                        {{'ADD' | translate}}
                    </button>
                </div>
            </div>


            <div [hidden]="feedInput.valid || feedInput.pristine" class="alert alert-danger">
                Please provide a valid address!
            </div>
            <div *ngIf="feedAlreadyExists" class="alert alert-danger">
                You have already subscribed to this channel.
            </div>
            <div *ngIf="feedProcessingError" class="alert alert-danger">
                There was an error processing that channel. Please check if the url is correct.
            </div>

        </form>
    </div>
</div>

<div class="well">
    <div>
        <p id="feeds-title">{{'MY_FEEDS' | translate}}</p>
        <ul class="feed-list">
            <li *ngFor="let feed of feeds">
                <div class="row">
                    <div class="col-md-8">
                        <a href="{{feed.link}}" class="btn btn-title" (click)="redirectTo(feed.link, $event)">{{feed.title}}</a>
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-display" (click)="displayFeed(feed)">{{'DISPLAY' | translate}}</a>
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-delete" (click)="deleteFeed(feed.url)">{{'DELETE' | translate}}</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>

    <div *ngIf="currentFeed">
        <h3>{{currentFeed.title}}</h3>
        <ul>
            <li *ngFor="let entry of currentFeed.entries">
                <a href="{{entry.link}}" (click)="redirectTo(entry.link, $event)">{{entry.title}} </a>
            </li>
        </ul>
    </div>

</div>

